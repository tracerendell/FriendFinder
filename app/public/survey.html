<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Survey Questions</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!--link to bootstrap 3  -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
</head>

<body>
    <div class="container">
        <h1>Survey Questions</h1>

        <hr>

        <h2>About You</h2>
        <h3>Name (Required)</h3>
        <input type="text" id="name" class="form-control" required>
        <h3>Link to Photo Image (Required)</h3>
        <input type="text" id="photo" class="form-control" required>
        
        <hr>

        <h2>Question 1</h2>
        <h3>Place holder question... This is not a real question, fill this in later!</h3>
        <div class="form-group">
                <label for="q1">Select an Option:</label>
                <select class="form-control" id="q1" style="width: 25%;">
                    <option value></option>
                    <option value="1">1 (Strongly Disagree)</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5 (Strongly Agree)</option>
                </select>
        </div>
        <h2>Question 2</h2>
        <h3>Place holder question... This is not a real question, fill this in later!</h3>
        <div class="form-group">
                <label for="q2">Select an Option:</label>
                <select class="form-control" id="q2" style="width: 25%;">
                    <option value></option>
                    <option value="1">1 (Strongly Disagree)</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5 (Strongly Agree)</option>
                </select>
        </div>
        <h2>Question 3</h2>
        <h3>Place holder question... This is not a real question, fill this in later!</h3>
        <div class="form-group">
                <label for="q3">Select an Option:</label>
                <select class="form-control" id="q3" style="width: 25%;">
                    <option value></option>
                    <option value="1">1 (Strongly Disagree)</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5 (Strongly Agree)</option>
                </select>
        </div>
        <h2>Question 4</h2>
        <h3>Place holder question... This is not a real question, fill this in later!</h3>
        <div class="form-group">
                <label for="q4">Select an Option:</label>
                <select class="form-control" id="q4" style="width: 25%;">
                    <option value></option>
                    <option value="1">1 (Strongly Disagree)</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5 (Strongly Agree)</option>
                </select>
        </div>
        <h2>Question 5</h2>
        <h3>Place holder question... This is not a real question, fill this in later!</h3>
        <div class="form-group">
                <label for="q5">Select an Option:</label>
                <select class="form-control" id="q5" style="width: 25%;">
                    <option value></option>
                    <option value="1">1 (Strongly Disagree)</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5 (Strongly Agree)</option>
                </select>
        </div>
        <h2>Question 6</h2>
        <h3>Place holder question... This is not a real question, fill this in later!</h3>
        <div class="form-group">
                <label for="q6">Select an Option:</label>
                <select class="form-control" id="q6" style="width: 25%;">
                    <option value></option>
                    <option value="1">1 (Strongly Disagree)</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5 (Strongly Agree)</option>
                </select>
        </div>
        <h2>Question 7</h2>
        <h3>Place holder question... This is not a real question, fill this in later!</h3>
        <div class="form-group">
                <label for="q7">Select an Option:</label>
                <select class="form-control" id="q7" style="width: 25%;">
                    <option value></option>
                    <option value="1">1 (Strongly Disagree)</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5 (Strongly Agree)</option>
                </select>
        </div>
        <h2>Question 8</h2>
        <h3>Place holder question... This is not a real question, fill this in later!</h3>
        <div class="form-group">
                <label for="q8">Select an Option:</label>
                <select class="form-control" id="q8" style="width: 25%;">
                    <option value></option>
                    <option value="1">1 (Strongly Disagree)</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5 (Strongly Agree)</option>
                </select>
        </div>
        <h2>Question 9</h2>
        <h3>Place holder question... This is not a real question, fill this in later!</h3>
        <div class="form-group">
                <label for="q9">Select an Option:</label>
                <select class="form-control" id="q9" style="width: 25%;">
                    <option value></option>
                    <option value="1">1 (Strongly Disagree)</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5 (Strongly Agree)</option>
                </select>
        </div>
        <h2>Question 10</h2>
        <h3>Place holder question... This is not a real question, fill this in later!</h3>
        <div class="form-group">
                <label for="q10">Select an Option:</label>
                <select class="form-control" id="q10" style="width: 25%;">
                    <option value></option>
                    <option value="1">1 (Strongly Disagree)</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5 (Strongly Agree)</option>
                </select>
        </div>

        <br><br>

        <button type="submit" class="btn-primary btn-lg btn-block" id="submit">Find a Friend!</button>

        <br>

        <hr>

        <footer>
            <span>API Friends List</span><span> | </span><span>GitHub Repo</span>
        </footer>

        <br><br>

    </div>

    <!-- Modal -->
	<div id="resultsModal" class="modal fade" role="dialog">
        <div class="modal-dialog">
  
          
          <div class="modal-content">
            <div class="modal-header">
              <button type="button" class="close" data-dismiss="modal">&times;</button>
              <h2 class="modal-title"><strong>Best Match</strong></h2>
            </div>
            <div class="modal-body">
              <h2 id="matchName"></h2>
              <img id="matchImg" src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTaFdErJZTu2gOpbwY2l_LvTWsZxCtx2Zti11uvtheXWuhBGpRj" alt="">
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
            </div>
          </div>
  
        </div>
      </div>
  
    <script type="text/javascript">
        // Chosen CSS
      var config = {
        '.chosen-select'           : {},
        '.chosen-select-deselect'  : {allow_single_deselect:true},
        '.chosen-select-no-single' : {disable_search_threshold:10},
        '.chosen-select-no-results': {no_results_text:'Oops, nothing found!'},
        '.chosen-select-width'     : {width:"95%"}
      }
      for (var selector in config) {
        // $(selector).chosen(config[selector]);
        console.log('yo');
      }
      // Capture the form inputs 
      $("#submit").on("click", function(){
     event.preventDefault();
  var newData={
  name: $("#name").val(),
  photo: $("#photo").val(),
  scores: [$("#q1").val(),$("#q2").val(),$("#q3").val(),$("#q4").val(),$("#q5").val(),$("#q6").val(),$("#q7").val(),$("#q8").val(), $("#q9").val(), $("#q10").val()]
  };
  $.post("/api/friends", newData,
          function(data) {
          
            
              $("#matchName").text(data.name);
                  $('#matchImg').attr("src", data.photo);
                  // Show the modal with the best match 
                  $("#resultsModal").modal('toggle');
            
            // Clear the form when submitting
            
            
          });
     });
          
    </script>
    
</body>

</html>